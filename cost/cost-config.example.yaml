# Cost Configuration for Cross-Provider Benchmarking
# Copy to cost-config.yaml and adjust values for your environment.
#
# This file is "inputs-driven" for repeatability:
# - All costs are explicit inputs (no hidden calculations)
# - as_of timestamp records when prices were captured
# - notes field documents source/assumptions
#
# Usage:
#   cp cost/cost-config.example.yaml cost/cost-config.yaml
#   # Edit values, then run:
#   python scripts/cost/compute_cost.py benchmarks/results.json cost/cost-config.yaml

providers:
  akamai-lke:
    as_of: "2026-01-27"
    notes: "Linode list prices as of Jan 2026. GPU: g2-gpu-rtx4000a1-s (RTX 4000 Ada 20GB)"
    
    # Node costs (USD per hour)
    gpu_node_usd_per_hr: 0.52      # g2-gpu-rtx4000a1-s (RTX 4000 Ada 20GB)
    cpu_node_usd_per_hr: 0.036     # g6-standard-2 (2 vCPU, 4GB)
    
    # Network costs (USD per GB)
    egress_usd_per_gb: 0.005       # Outbound transfer (pooled quota model)
    ingress_usd_per_gb: 0.0        # Inbound is free
    
    # Storage costs (USD per GB per month, optional)
    storage_usd_per_gb_month: 0.10 # Block storage
    
    # Cluster overhead (optional, for full cost attribution)
    cluster_mgmt_usd_per_hr: 0.0   # LKE control plane is free

  aws-eks:
    as_of: "2026-01-27"
    notes: "AWS us-east-1 on-demand prices. GPU: g6.xlarge (NVIDIA L4 24GB)"
    
    gpu_node_usd_per_hr: 0.8048    # g6.xlarge (NVIDIA L4 24GB)
    cpu_node_usd_per_hr: 0.0416    # t3.medium (2 vCPU, 4GB)
    
    egress_usd_per_gb: 0.09        # First 10TB/month
    ingress_usd_per_gb: 0.0
    
    storage_usd_per_gb_month: 0.08 # gp3 EBS
    
    cluster_mgmt_usd_per_hr: 0.10  # EKS control plane

  gcp-gke:
    as_of: "2026-01-27"
    notes: "GCP us-central1 on-demand prices. GPU: g2-standard-8 (NVIDIA L4 24GB)"
    
    gpu_node_usd_per_hr: 0.942     # g2-standard-8 (includes L4 GPU)
    cpu_node_usd_per_hr: 0.067     # e2-standard-2 (2 vCPU, 8GB)
    
    egress_usd_per_gb: 0.12        # Premium tier, first 1TB
    ingress_usd_per_gb: 0.0
    
    storage_usd_per_gb_month: 0.04 # pd-balanced
    
    cluster_mgmt_usd_per_hr: 0.10  # GKE Autopilot/Standard mgmt fee

# Benchmark run context (filled in per-run or by scripts)
# This section is optional; compute_cost.py will use defaults if missing
benchmark_context:
  # Duration of the benchmark run in seconds (used to compute hourly costs)
  duration_seconds: null  # Will be read from benchmark results if available
  
  # Node counts during benchmark (for cost attribution)
  gpu_node_count: 1
  cpu_node_count: 2
